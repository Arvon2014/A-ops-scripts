###### redis ######
redis.pool.max_total=100
redis.ejabberd.pool.max_total=30

###################### 程序内部的主要缓存
redis.url={{ redis1_master }}
redis.port=6379
redis.slave.url={{ redis1_slave }}
redis.slave.port=6380
redis2.url={{ redis2_master }}
redis2.port=6379
redis2.slave.url={{ redis1_slave }}
redis2.slave.port=6380

###################### org或app的name与uuid的缓存 , 原配置为redis.url , 需要保证该缓存不失效
redis.org_or_app.url={{ redis1_master }}
redis.org_or_app.port=6379

redis.org_or_app.slave.url={{ redis1_slave }}
redis.org_or_app.slave.port=6380

redis2.org_or_app.url={{ redis2_master }}
redis2.org_or_app.port=6379

redis2.org_or_app.slave.url={{ redis2_slave }}
redis2.org_or_app.slave.port=6380

###################### token相关的缓存 , 原配置为redis.url , 需要保证该缓存尽量不失效
redis.token.url={{ redis1_master }}
redis.token.port=6379

redis.token.slave.url={{ redis1_slave }}
redis.token.slave.port=6380

redis2.token.url={{ redis2_master }}
redis2.token.port=6379

redis2.token.slave.url={{ redis2_slave }}
redis2.token.slave.port=6380

####################### apns推送时用到的缓存 , 存储了app的推送证书以及用户的属性信息 , 原配置为redis.url。
redis.entity.url={{ redis1_master }}
redis.entity.port=6379

redis.entity.slave.url={{ redis1_slave }}
redis.entity.slave.port=6380

redis2.entity.url={{ redis2_master }}
redis2.entity.port=6379

redis2.entity.slave.url={{ redis2_slave }}
redis2.entity.slave.port=6380

###################### 发送接受语音图片的缓存
redis.files.url={{ redis1_master }}
redis.files.port=6379

redis.files.slave.url={{ redis1_slave }}
redis.files.slave.port=6380

redis2.files.url={{ redis2_master }}
redis2.files.port=6379

redis2.files.slave.url={{ redis2_slave }}
redis2.files.slave.port=6380

###################### 发送聊天消息的队列, 供ejabberd消费
# 发送消息的时候, 发送到的redis的地址
redis.message.url = {{ redis_rest_message }}
redis.message.port = 6379
# 单聊消息发送的topic/list
publish.chat.message.topic=im:rest:chat
# 群聊消息发送的topic/list
publish.groupchat.message.topic=im:rest:groupchat

##### redis for usergrid-tools ####
redis.ejabberd.url={{ redis_ejabberd_message }}
redis.ejabberd.port=6379

##### redis for chatgroups ####
redis.chatgroup.url={{ redis_chatgroup }}
redis.chatgroup.port=6379

###### cassandra ######
cassandra.url={{ cassandra_url }}

cassandra.seeds={{ cassandra_seeds }}

cassandra.readcl=ONE
cassandra.writecl=ONE
cassandra.keyspace.replication=1

########### ejabberd ############
ejabberd.host=http://{{ ejabberd_host }}:5280
ejabberd.domain=easemob.com

##### kafka ##########
metadata.broker.list={{ kafka_broker_list }}

####################### zookeeper ##################
zookeeper.url={{ zookeeper_url }}

usergrid.thrift.register_with_login=false
# �~A�~H�说�~Z~D�~N��~@~A�~H�~A��~M�~S~M�~O~P示�~_�
usergrid.notification.sournd.ignore.appkeys=engzo#lls

usergrid.sysadmin.login.name={{sysadmin.name}}
usergrid.sysadmin.login.email={{sysadmin.email}}
usergrid.sysadmin.login.password={{sysadmin.password}}
#第一次初始化的时候设为true
usergrid.sysadmin.login.allowed={{sysadmin.is_first_login}}
usergrid.sysadmin.email={{sysadmin.email}}
usergrid.sysadmin.approve.users=false

#################### usergrid base url ##############
swagger.basepath=http://{{ usergrid_url.api_site }}
usergrid.redirect_root=http://{{ usergrid_url.console_site }}
usergrid.organization.activation.url=http://{{ usergrid_url.api_site }}/management/organizations/%s/activate
usergrid.admin.activation.url=http://{{ usergrid_url.api_site }}/management/users/%s/activate
usergrid.admin.confirmation.url=http://{{ usergrid_url.api_site }}/management/users/%s/confirm
usergrid.admin.resetpw.url=http://{{ usergrid_url.api_site }}/management/users/%s/resetpw
usergrid.user.activation.url=http://{{ usergrid_url.api_site }}/%s/%s/users/%s/activate
usergrid.user.confirmation.url=http://{{ usergrid_url.api_site }}/%s/%s/users/%s/confirm
usergrid.user.resetpw.url=http://{{ usergrid_url.api_site }}/%s/%s/users/%s/resetpw

# 禁止自动注册(当通过thrift登陆一个不存在的用户的时候, 自动注册这个用户, 并使之登陆成功)
usergrid.thrift.register_with_login=false
usergrid.management.admin_users_require_confirmation={{sysadmin.is_admin_confirm}}


###############################################################################
#
# Redirect urls to use instead of internal JSPs.  Not all of these should be
# overridden since many of them need to have parameters set
#

usergrid.view.applications.users.user.error=
usergrid.view.applications.users.user.resetpw_email_form=
usergrid.view.applications.users.user.resetpw_set_form=
usergrid.view.applications.users.user.resetpw_set_success=
usergrid.view.applications.users.user.activate=
usergrid.view.applications.users.user.bad_activation_token=
usergrid.view.applications.users.user.confirm=
usergrid.view.applications.users.user.bad_confirmation_token=
usergrid.view.applications.users.users.error=
usergrid.view.applications.users.users.resetpw_email_form=
usergrid.view.applications.users.users.resetpw_email_success=

usergrid.view.applications.application.error=
usergrid.view.applications.application.authorize_form=

usergrid.view.management.management.error=
usergrid.view.management.management.authorize_form=

usergrid.view.management.organizations.organization.error=http://{{ usergrid_url.console_site }}/confirm_failure.html
usergrid.view.management.organizations.organization.activate=http://{{ usergrid_url.console_site }}/confirm_success.html
usergrid.view.management.organizations.organization.bad_activation_token=http://{{ usergrid_url.console_site }}/confirm_failure.html
usergrid.view.management.organizations.organization.confirm=http://{{ usergrid_url.console_site }}/confirm_success.html

usergrid.view.management.users.user.error=http://{{ usergrid_url.console_site }}/confirm_failure.html
usergrid.view.management.users.user.resetpw_email_form=http://{{ usergrid_url.console_site }}/resetpw_input.html
usergrid.view.management.users.user.resetpw_set_form=http://{{ usergrid_url.console_site }}/resetpw_input.html
usergrid.view.management.users.user.resetpw_set_success=http://{{ usergrid_url.console_site }}/resetpw_success.html
usergrid.view.management.users.user.activate=http://{{ usergrid_url.console_site }}/confirm_success.html
usergrid.view.management.users.user.bad_activation_token=http://{{ usergrid_url.console_site }}/confirm_failure.html
usergrid.view.management.users.user.confirm=http://{{ usergrid_url.console_site }}/confirm_success.html
usergrid.view.management.users.user.bad_confirmation_token= http://{{ usergrid_url.console_site }}/confirm_failure.html

usergrid.view.management.users.users.resetpw_email_form=http://{{ usergrid_url.console_site }}/resetpw_input.html
usergrid.view.management.users.users.resetpw_email_success=http://{{ usergrid_url.console_site }}/resetpw_success.html
usergrid.view.management.users.users.error=http://{{ usergrid_url.console_site }}/resetpw_failure.html

thrift.server.workers=40
